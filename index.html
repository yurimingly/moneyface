<!DOCTYPE html>
<html lang="en">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Gaegu&family=Gugi&family=Hachi+Maru+Pop&display=swap" rel="stylesheet">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="얼마짜리 얼굴일까 howmuchismyface?">
    <link rel="canonical" href="http://moneyface.ga">

    <meta name="naver-site-verification" content="33d69378ecee7a4aae3b14cb0b574f87bb1f5c82" />
    <meta name="naver-site-verification" content="7d77f2b250f5caf585cd0126e64c5973a9726283" />
    <meta property="og:url"                content="www.moneyface.ga" />
    <meta property="og:type"               content="website" />
    <meta property="og:title"              content="moneyface!" />
    <meta property="og:description"        content="얼마짜리 얼굴일까 howmuchismyface" />
    <!-- <meta property="og:image"              content="" /> -->

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous"> 
    <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
 


    <title>moneyface</title>
    <link rel="stylesheet" href="style.css">
    

    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-600d5b48b4921d61"></script>

</head>


<body>

  <!--네브바-->
  <nav class="navbar navbar-expand-lg navbar-light nav-distance">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Moneyface</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Dropdown
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
          </li>
        </ul>
        <!-- <form class="d-flex">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form> -->
      </div>
    </div>
  </nav>

  <section class="section">
    <h2 class="title">How much is my face?</h2>
    <h3 class="subtitle">내 얼굴은 얼마짜리일까</h3>
  </section>
  <!-- <section class="youtube">
    <div class="mt-5 youtube-cover d-flex flex-row-reverse">
      <img src="D:\VsCode folder\moneyface\img\youtube-copy.jpg" alt="youtube-icon" class="youtube-icon" style = "width: 8%;">
      <a href class="youtube-link">윪의 유튜브</a>
    </div>
  </section> -->

  <div class="file-upload">
 <!-- <button class="file-upload-btn" type="button" onclick="$('.file-upload-input').trigger( 'click' )">Add Image</button> -->
  <div class="image-upload-wrap" style="width:100%;">
    <input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
    <div class="drag-text">
      <img src="img/upload.svg" class="mt-5 pt-5 upload">
      <h4 class="mb-5 pb-5 pt-4 upload-text">얼굴 사진 upload 하세요!</h4>
    </div>
  </div>
  <div class="file-upload-content">
    <img class="file-upload-image" id="face-image" src="#" alt="your image" />
    <!--관련내용를 뿌린다-->
    <p class="result-message"></p>
    <div class="result-image"></div> <!--resultimage-->
    <p class="result-people"></p>

    <div class="image-title-wrap">
      <div id="label-container"></div>
      
      <!--공유하기-->
      <!-- Go to www.addthis.com/dashboard to customize your tools -->
      <br><div class="addthis_inline_share_toolbox"></div><br>
      <!--지우기 버튼-->
      <button type="button" onclick="removeUpload()" class="remove-image">Remove</button>

            

    </div>
  </div>
</div>
  <!--사진학습 시작!-->
  <!-- <button type="button" onclick="init()">Start</button> -->
  <!-- <button type="button" onclick="predict()">예측</button> -->
  
  

</body>
<script id="dsq-count-scr" src="//moneyface.disqus.com/count.js" async></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
<script type="text/javascript">
  // More API functions here:
  // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

  // the link to your model provided by Teachable Machine export panel
  const URL = "https://teachablemachine.withgoogle.com/models/ZBZxAoJy4/";

  let model, webcam, labelContainer, maxPredictions;

  // Load the image model and setup the webcam
  async function init() {
      const modelURL = URL + "model.json";
      const metadataURL = URL + "metadata.json";

      // load the model and metadata
      // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
      // or files from your local hard drive
      // Note: the pose library adds "tmImage" object to your window (window.tmImage)
      model = await tmImage.load(modelURL, metadataURL);
      maxPredictions = model.getTotalClasses();

      // // Convenience function to setup a webcam
      // const flip = true; // whether to flip the webcam
      // webcam = new tmImage.Webcam(200, 200, flip); // width, height, flip
      // await webcam.setup(); // request access to the webcam
      // await webcam.play();
      // window.requestAnimationFrame(loop);

      // append elements to the DOM
      // document.getElementById("webcam-container").appendChild(webcam.canvas); //화면에 웹캠을 표시하는
      labelContainer = document.getElementById("label-container");
  //     for (let i = 0; i < maxPredictions; i++) { // and class labels
  //         if(i==0){
  //         labelContainer.appendChild(document.createElement("div"));
  //         div.className = 'Rounded-Rectangle-523-0';
  //         }else if(i==1){
  //         labelContainer.appendChild(document.createElement("div"));
  //         div.className = 'Rounded-Rectangle-523-1';  
  //         }
  //     }
  // }
      for (let i = 0; i < maxPredictions; i++) { // and class labels
          labelContainer.appendChild(document.createElement("div"));
      }
  }
  // 웹캠은 loop를 사용함
  // async function loop() {
  //     webcam.update(); // update the webcam frame
  //     await predict();
  //     window.requestAnimationFrame(loop);
  // }


  // run the webcam image through the image model
  async function predict() {
      // predict can take in an image, video or canvas html element
      var image = document.getElementById("face-image");

      const prediction = await model.predict(image,flipped=false);

      prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));

      console.log(prediction[0].className);

      var resultMessage;
      //image객체가 생성되어 속성들을 추가할 수 있음
      const resultimage = new Image();
      // body.appendChild(image);

      switch(prediction[0].className) {
        case "Korea 1000":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>한국 1000원짜리"
          resultimage.src = "img/kor_1000.PNG"
        break;
        case "Korea 5000":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>한국 5000원짜리</br>"
          resultimage.src = "img/kor_1000.PNG"
        break;
        case "Korea 10000":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>한국 10000원짜리</br>"
          resultimage.src = "img/kor_10000.PNG"
        break;
        case "Korea 50000":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>한국 50000원짜리</br>"
          resultimage.src = "img/kor_50000.PNG"
        break;
        case "Japan 1000":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>일본 1000엔짜리=10,652원</br>"
          resultPeople = "일본 1000엔 권 - 노구치  히데요.</br>매독 병원균을 배양하는 연구를 통해 세계적으로 유명해진 세균학자.</br>전쟁 중 열대성 전염병인 황열병을 연구하다 자신 또한 황열병에 걸려 생을 마감했으며 1913년부터 1972년까지 총 9차례 노벨 생리학 의학상 후보로 추천받았으며 일본인이 사랑하는 인물로 선정되기도 하였다."
          resultimage.src = "img/ja_1000.PNG"
        break;
        case "Japan 5000":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>일본 5000엔짜리=53260원</br>"
          resultPeople = "일본 5000엔 권 - 히구치 이치요.</br>일본 근대 소설을 개척한 여성 소설가.</br>메이지 유신 이후 근대 작가 중 첫 번째 여성 작가로 근대 문학사에 큰 영향을 끼쳤으나 24세에 요절했다."
          resultimage.src = "img/ja_5000.PNG" 
        break;
        case "Japan 10000":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>일본 10000엔짜리=106521원</br>"
          resultPeople = "일본 1000엔 권 - 후쿠자와 유키치.</br>에도-메이지 시대의 계몽사상가이자 교육자.</br>봉건 시대의 타파와 서구 문명의 적극적 도입 등 탈아론을 주장한 인물로 일본인이 사랑하는 인물로 선정되기도 하였다. 실학과 부국강병을 강조하여 자본주의 발달의 사상적 근거를 마련했다. 게이오기주쿠의 전신, 산케이 신문의 전신인 지지산보의 창립자로도 유명하다."
          resultimage.src = "img/ja_10000.PNG"
        break;
        case "america 1":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>미국 1달러짜리=1105원</br>"
          resultPeople = "미국 1달러 - 조지 워싱턴.</br>미국 초대 대통령이자 건국의 아버지.</br>영국을 상대로 한 독립전쟁을 승리로 이끈 인물로 미국의 기초가 되는 연방헌법을 제정하고 중앙정부의 권한을 강화했다."
          resultimage.src = "img/am_1.PNG"
        break;
        case "america 2":
          resultMessage = "내 얼굴 얼마!?!?!??! </br></br>미국 2달러짜리=2211원</br>"
          resultPeople = "미국 2달러 - 토마스 제퍼슨.</br>미국의 제 3대 대통령.</br>우파인 알렉산더 해밀턴의 연방파에 대항하기 위해 민주공화당을 결성하여 지도자가 되었으며 독립선언서의 기초작업을 수행한 것으로 유명하다. 2달러는 실제로 미국에서 거래할 때 자주 사용되는 지폐는 아니다."
          resultimage.src = "img/am_2.PNG"
        break;
        default:
        resultMessage = "내 얼굴 얼마!?!?!??! </br></br>알 수 없는 얼굴ㅎ 다시 태어나볼까?"
        // resultMessage=resultMessage.replace(/\n/g,<br/>);
      }
      $('.result-message').html(resultMessage);
      $('.result-people').html(resultPeople);
      $('.result-image').html(resultimage);
      // var resultimage_width = resultimage.width;
      // console.log(resultimage_width);
      // console.log(maxPredictions);
      //퍼센테이지 나오도록
      for (let i = 0; i < 3; i++) {
          const classPrediction = prediction[i].className + ": " + prediction[i].probability.toFixed(2);
          labelContainer.childNodes[i].innerHTML = classPrediction;
      }
  }
</script>



<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://moneyface.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>

<script>
function readURL(input) {
  if (input.files && input.files[0]) {

    var reader = new FileReader();

    reader.onload = function(e) {
      $('.image-upload-wrap').hide();

      $('.file-upload-image').attr('src', e.target.result);
      $('.file-upload-content').show();

      $('.image-title').html(input.files[0].name);
    };

    reader.readAsDataURL(input.files[0]);
    init().then(()=>{
      predict();
    });

  } else {
    removeUpload();
  }
}

function removeUpload() {
  $('.file-upload-input').replaceWith($('.file-upload-input').clone());
  $('.file-upload-content').hide();
  $('.image-upload-wrap').show();
}
$('.image-upload-wrap').bind('dragover', function () {
		$('.image-upload-wrap').addClass('image-dropping');
	});
	$('.image-upload-wrap').bind('dragleave', function () {
		$('.image-upload-wrap').removeClass('image-dropping');
});
</script>

<div id="disqus_thread"></div>
<script id="dsq-count-scr" src="//moneyface.disqus.com/count.js" async></script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<!--
Copyright (c) 2021 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->
</html>